/* what-template-am-i-using 0.1.12 2014-09-03 */
!function(a,b){"use strict";b.wtaiu_sidebar={root:null,sidebar:null,handle:null,closebutton:null,panelcontainer:null,timer:null,data:{},init:function(){this.root=a("html"),this.sidebar=a("#wtaiu"),this.handle=a("#wtaiu-handle"),this.closebutton=a("#wtaiu-close"),this.panelcontainer=a("#wtaiu-data"),wtaiu.data&&(this.data=wtaiu.data),this.setupContextMenu(),this.setupSortable(),this.setupOpenToggle(),this.setupHelpBoxes(),this.handle.click(function(){wtaiu_sidebar.isOpen()?wtaiu_sidebar.close():wtaiu_sidebar.open(),wtaiu_sidebar.saveData()}),this.closebutton.click(function(){wtaiu_sidebar.killSidebar()}),this.data.open?this.open():this.close(),setTimeout(function(){wtaiu_sidebar.addTransitions()},500)},setupSortable:function(){this.panelcontainer.sortable({handle:".label",helper:"clone",items:"> .panel",containment:"parent",placeholder:"panel-placeholder",update:function(){wtaiu_sidebar.saveData()}})},setupOpenToggle:function(){this.panelcontainer.openToggle({target:".panel",button:".open-toggle-button",handle:".panel-header",callback:function(){wtaiu_sidebar.saveData()}})},setupHelpBoxes:function(){var b=a(".panel:has(.help)",this.panelcontainer);b.each(function(){a(".label",this).append('<a class="help-label">?</a>')}),a(".help-label",this.panelcontainer).click(function(b){b.preventDefault();var c=a(this).parents(".panel"),d=a(".help",this.parentNode.parentNode.parentNode);return c.hasClass("closed")?(c.removeClass("closed").addClass("open"),d.show()):d.toggle(),!1})},setupContextMenu:function(){this.panelcontainer.attr("contextmenu","wtaiu-context-menu"),a("#wtaiu-context-menu .open-all").click(function(){wtaiu_sidebar.panelcontainer.find("> .panel").each(function(){a(this).removeClass("closed").addClass("open")}),wtaiu_sidebar.saveData()}),a("#wtaiu-context-menu .close-all").click(function(){wtaiu_sidebar.panelcontainer.find("> .panel").each(function(){a(this).removeClass("open").addClass("closed")}),wtaiu_sidebar.saveData()})},getData:function(){return this.data},saveData:function(){clearTimeout(this.timer),this.timer=setTimeout(this.sendAjax.bind(this),500);var b={};this.panelcontainer.find(">.panel").each(function(){var c=a(this),d=c.attr("id"),e=c.hasClass("open");b[d]=e?1:0}),this.data.panels=b},sendAjax:function(b){"undefined"==typeof b&&(b=!1);var c={action:"wtaiu_save_data",open:this.data.open?1:0,panels:this.data.panels};a.ajax({type:"POST",async:b,cache:!1,url:wtaiu.ajaxurl,data:c,dataType:"json",success:function(){}})},open:function(){this.root.removeClass("wtaiu-closed").addClass("wtaiu-open"),this.sidebar.addClass("open"),this.data.open=!0},close:function(){this.root.removeClass("wtaiu-open").addClass("wtaiu-closed"),this.sidebar.removeClass("open"),this.data.open=!1},killSidebar:function(){if(confirm("Are you sure you want to remove the sidebar?\n\nThe sidebar can be enabled again from your user profile page.")){var b={action:"wtaiu_save_close_sidebar"};a.post(wtaiu.ajaxurl,b,function(){wtaiu_sidebar.close(),setTimeout(function(){wtaiu_sidebar.sidebar.remove(),wtaiu_sidebar.root.removeClass("transition-padding wtaiu-closed"),a("#wpadminbar").removeClass("transition-right"),wtaiu_sidebar=null},250)},"json")}},isOpen:function(){return this.sidebar.hasClass("open")},addTransitions:function(){this.sidebar.addClass("transition-right"),this.handle.addClass("transition-all"),a("#wpadminbar").addClass("transition-right"),a("html").addClass("transition-padding")}},a(function(){wtaiu_sidebar.init()})}(jQuery,window,document);
//# sourceMappingURL=main.min.map